<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NZ $5 Banknote Comparison Tool - Reserve Bank of New Zealand</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #f9fafb;
            color: #1f2937;
        }

        .header {
            background-color: #1f2937;
            color: white;
            padding: 1rem 1.5rem;
        }

        .header-content {
            max-width: 1280px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-title {
            font-size: 1.25rem;
            font-weight: bold;
        }

        .header-subtitle {
            font-size: 0.875rem;
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: #4b5563;
            text-decoration: none;
            margin-bottom: 1.5rem;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1rem;
        }

        .back-btn:hover {
            color: #1f2937;
        }

        h1 {
            font-size: 2.25rem;
            font-weight: bold;
            margin-bottom: 2rem;
        }

        .instructions {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .instructions p {
            color: #4b5563;
            margin-bottom: 1rem;
        }

        .compare-btn {
            background-color: #db2777;
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 0.375rem;
            border: none;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .compare-btn:hover {
            background-color: #be185d;
        }

        .compare-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }

        .main-content {
            display: flex;
            gap: 2rem;
        }

        .sidebar {
            width: 16rem;
            flex-shrink: 0;
        }

        .sidebar-box {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1rem;
            position: sticky;
            top: 1rem;
        }

        .sidebar h3 {
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .sidebar nav a {
            display: block;
            padding: 0.5rem 0;
            color: #4b5563;
            text-decoration: none;
        }

        .sidebar nav a:hover,
        .sidebar nav a.active {
            color: #db2777;
        }

        .sidebar nav a.active {
            font-weight: 500;
        }

        .grid {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }

        .note-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.2s;
        }

        .note-card:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .note-card.selected {
            border-color: #db2777;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .note-card.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .note-image {
            aspect-ratio: 2/1;
            background-color: #1f2937;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .note-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .note-info {
            padding: 1rem;
        }

        .note-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 0.5rem;
        }

        .note-series {
            font-size: 0.875rem;
            color: #db2777;
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .note-year {
            font-weight: bold;
        }

        .checkmark {
            width: 1.5rem;
            height: 1.5rem;
            background-color: #db2777;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .note-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .note-desc {
            font-size: 0.875rem;
            color: #6b7280;
        }

        /* Compare View */
        .compare-view {
            background-color: #1f2937;
            border-radius: 0.5rem;
            padding: 2rem;
        }

        .compare-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .compare-header h2 {
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .restart-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .restart-btn:hover {
            color: #d1d5db;
        }

        .slider-container {
            position: relative;
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 0.5rem;
            overflow: hidden;
        }

        .slider-wrapper {
            position: relative;
            width: 100%;
            aspect-ratio: 2/1;
        }

        .note-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            background: #111827;
        }

        .note-layer img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .note-layer.front {
            clip-path: inset(0 0 0 0);
        }

        .slider-control {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: #db2777;
            cursor: ew-resize;
            z-index: 10;
        }

        .slider-handle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 48px;
            height: 48px;
            background-color: #db2777;
            border: 3px solid white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .slider-handle svg {
            width: 24px;
            height: 24px;
            color: white;
        }

        .note-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .detail-card {
            background: white;
            border-radius: 0.5rem;
            padding: 1.5rem;
        }

        .detail-card h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .detail-card .series {
            font-size: 0.875rem;
            color: #db2777;
            font-weight: 500;
        }

        .detail-card .year {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .detail-card .description {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .detail-card h4 {
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .detail-card ul {
            list-style: none;
        }

        .detail-card li {
            font-size: 0.875rem;
            color: #4b5563;
            padding: 0.25rem 0;
            display: flex;
            gap: 0.5rem;
        }

        .detail-card li::before {
            content: "•";
            color: #db2777;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
            }

            .grid {
                grid-template-columns: 1fr;
            }

            .note-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="header-title">Reserve Bank of New Zealand</div>
            <div class="header-subtitle">Te Pūtea Matua</div>
        </div>
    </header>

    <div class="container">
        <button class="back-btn" onclick="window.location.href='dans-fun-zone.html'">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M15 18l-6-6 6-6"/>
            </svg>
            Back
        </button>

        <h1>Compare $5 banknotes over time</h1>

        <div id="gridView">
            <div class="instructions">
                <p>Select two banknotes from the timeline below to compare their features and designs side by side with an interactive slider.</p>
                <button class="compare-btn" id="compareBtn" disabled onclick="showCompare()">
                    Compare selected notes
                </button>
            </div>

            <div class="main-content">
                <aside class="sidebar">
                    <div class="sidebar-box">
                        <h3>Banknotes in circulation</h3>
                        <nav>
                            <a href="#" class="active">$5 banknote</a>
                    
                        </nav>
                    </div>
                </aside>

                <div class="grid" id="notesGrid"></div>
            </div>
        </div>

        <div id="compareView" class="compare-view hidden">
            <div class="compare-header">
                <h2>Compare banknotes</h2>
                <button class="restart-btn" onclick="resetSelection()">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
                        <path d="M21 3v5h-5"/>
                        <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/>
                        <path d="M3 21v-5h5"/>
                    </svg>
                    Restart
                </button>
            </div>

            <div class="slider-container">
                <div class="slider-wrapper" id="sliderWrapper">
                    <div class="note-layer back" id="backNote"></div>
                    <div class="note-layer front" id="frontNote"></div>
                    <div class="slider-control" id="sliderControl">
                        <div class="slider-handle">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M18 8L22 12L18 16"/>
                                <path d="M6 8L2 12L6 16"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <div class="note-details" id="noteDetails"></div>
        </div>
    </div>

    <script>
        const notes = [
            {
                id: 1,
                year: "1840s",
                series: "Colonial Era",
                title: "Colonial Bank Note",
                description: "Early private bank issue - Five Pounds",
                features: ["Handwritten signatures", "Simple printing", "Paper-based"],
                image: "1840s_colonial.jpg",
            },
            {
                id: 2,
                year: "1910s",
                series: "Pre-Decimal",
                title: "Commercial Bank £5",
                description: "Commercial Bank of Scotland design",
                features: ["Ornate borders", "Classical imagery", "Multi-color printing"],
                image: "1930s_commercial_bank.jpg",
            },
            {
                id: 3,
                year: "1920s",
                series: "Pre-Decimal",
                title: "Bank of New Zealand £5",
                description: "Bank of New Zealand issue",
                features: ["Enhanced security", "Detailed engravings", "Watermarks"],
                image: "1926_BNZ_5.jpg",
            },
            {
                id: 4,
                year: "1930s",
                series: "Pre-Decimal",
                title: "Reserve Bank £5 (Māori Portrait)",
                description: "First Reserve Bank series with Māori portrait",
                features: ["Cultural representation", "Kiwi bird motif", "Improved security"],
                image: "1950s_maori_portrait.jpg",
            },
            {
                id: 5,
                year: "1940s",
                series: "Pre-Decimal",
                title: "Reserve Bank £5 (Captain Cook)",
                description: "Later pre-decimal series",
                features: ["Historical figure", "New Zealand coat of arms", "Security thread"],
                image: "1960s_captain_cook.jpg",
            },
            {
                id: 6,
                year: "1967-81",
                series: "Series 1",
                title: "$5 Note (Queen Elizabeth II)",
                description: "First decimal series - orange/red design",
                features: ["Decimal currency introduction", "Queen Elizabeth II portrait", "Mt Cook imagery"],
                image: "1967_decimal_series1.jpg",
            },
            {
                id: 7,
                year: "1981-92",
                series: "Series 2",
                title: "$5 Note (Queen Elizabeth II)",
                description: "Series 2 - refined design",
                features: ["Updated portrait", "Enhanced security features", "Refined color scheme"],
                image: "1981_decimal_series2.jpg",
            },
            {
                id: 8,
                year: "1992-99",
                series: "Series 6",
                title: "$5 Note (Sir Edmund Hillary)",
                description: "Polymer series - Edmund Hillary introduced",
                features: ["First polymer note", "Sir Edmund Hillary", "Transparent window", "Mt Cook feature"],
                image: "1992_hillary_series6.jpg",
            },
            {
                id: 9,
                year: "1999-2015",
                series: "Series 7",
                title: "$5 Note (Sir Edmund Hillary)",
                description: "Series 7 - updated security features",
                features: ["Enhanced hologram", "Color-shifting ink", "Microprinting", "UV features"],
                image: "1999_hillary_series7.jpg",
            },
            {
                id: 10,
                year: "2015-Present",
                series: "Current Series",
                title: "$5 Note (Sir Edmund Hillary)",
                description: "Current series - Brighter Money",
                features: ["Vibrant colors", "Advanced security", "Fern feature", "Hoiho penguin", "Native flora"],
                image: "2015_hillary_current.jpg",
            }
        ];

        let selectedNotes = [];

        function renderNotes() {
            const grid = document.getElementById('notesGrid');
            grid.innerHTML = '';

            notes.forEach(note => {
                const isSelected = selectedNotes.some(n => n.id === note.id);
                const isDisabled = selectedNotes.length === 2 && !isSelected;

                const card = document.createElement('div');
                card.className = `note-card ${isSelected ? 'selected' : ''} ${isDisabled ? 'disabled' : ''}`;
                card.onclick = () => !isDisabled && toggleNote(note);

                card.innerHTML = `
                    <div class="note-image">
                        <img src="${note.image}" alt="${note.title}">
                    </div>
                    <div class="note-info">
                        <div class="note-header">
                            <div>
                                <div class="note-series">${note.series}</div>
                                <div class="note-year">${note.year}</div>
                            </div>
                            ${isSelected ? '<div class="checkmark"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><path d="M5 13l4 4L19 7"/></svg></div>' : ''}
                        </div>
                        <div class="note-title">${note.title}</div>
                        <div class="note-desc">${note.description}</div>
                    </div>
                `;

                grid.appendChild(card);
            });
        }

        function toggleNote(note) {
            const index = selectedNotes.findIndex(n => n.id === note.id);
            if (index > -1) {
                selectedNotes.splice(index, 1);
            } else if (selectedNotes.length < 2) {
                selectedNotes.push(note);
            }
            
            document.getElementById('compareBtn').disabled = selectedNotes.length !== 2;
            renderNotes();
        }

        function showCompare() {
            document.getElementById('gridView').classList.add('hidden');
            document.getElementById('compareView').classList.remove('hidden');
            initSlider();
            renderDetails();
        }

        function goBack() {
            if (!document.getElementById('compareView').classList.contains('hidden')) {
                document.getElementById('compareView').classList.add('hidden');
                document.getElementById('gridView').classList.remove('hidden');
            }
        }

        function resetSelection() {
            selectedNotes = [];
            document.getElementById('compareBtn').disabled = true;
            document.getElementById('compareView').classList.add('hidden');
            document.getElementById('gridView').classList.remove('hidden');
            renderNotes();
        }

        function initSlider() {
            const backNote = document.getElementById('backNote');
            const frontNote = document.getElementById('frontNote');
            const sliderControl = document.getElementById('sliderControl');
            const sliderWrapper = document.getElementById('sliderWrapper');

            backNote.innerHTML = `<img src="${selectedNotes[0].image}" alt="${selectedNotes[0].title}">`;
            frontNote.innerHTML = `<img src="${selectedNotes[1].image}" alt="${selectedNotes[1].title}">`;

            let isDragging = false;

            function updateSlider(clientX) {
                const rect = sliderWrapper.getBoundingClientRect();
                let position = clientX - rect.left;
                position = Math.max(0, Math.min(position, rect.width));
                
                const percentage = (position / rect.width) * 100;
                sliderControl.style.left = percentage + '%';
                frontNote.style.clipPath = `inset(0 ${100 - percentage}% 0 0)`;
            }

            sliderControl.addEventListener('mousedown', (e) => {
                isDragging = true;
                e.preventDefault();
            });

            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    updateSlider(e.clientX);
                }
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
            });

            sliderControl.addEventListener('touchstart', (e) => {
                isDragging = true;
                e.preventDefault();
            });

            document.addEventListener('touchmove', (e) => {
                if (isDragging) {
                    updateSlider(e.touches[0].clientX);
                }
            });

            document.addEventListener('touchend', () => {
                isDragging = false;
            });

            // Initialize at 50%
            sliderControl.style.left = '50%';
            frontNote.style.clipPath = 'inset(0 50% 0 0)';
        }

        function renderDetails() {
            const details = document.getElementById('noteDetails');
            details.innerHTML = selectedNotes.map(note => `
                <div class="detail-card">
                    <div class="series">${note.series}</div>
                    <div class="year">${note.year}</div>
                    <h3>${note.title}</h3>
                    <div class="description">${note.description}</div>
                    <h4>Key Features:</h4>
                    <ul>
                        ${note.features.map(f => `<li>${f}</li>`).join('')}
                    </ul>
                </div>
            `).join('');
        }

        // Initialize
        renderNotes();
    </script>
</body>
</html>